% --------- deployment guide for the capture ---------
	
	\subsection[file config]{Umgebung Konfigurieren}
	\subsubsection{1 - Mit Setup Script}
	
	\lstset{style=commands}
	\begin{lstlisting}[caption={Ausf체hren des 'install.sh' Scripts.}, breaklines=true,]
		elbrus@server:~$ cd /var/elbrus
		elbrus@server:/var/elbrus$ sudo bash capture-device/install.sh
		Do you want to proceed with setup of the 'capture-device'? (y/n) y
		
		Where should the log be stored (dir) [/var/elbrus/shared/log]:
		Where is the elb-capture-postrotate.sh stored [/var/elbrus/capture-device/scripts/elb-capture-postrotate.sh]:
		Where is the shared config stored [/var/elbrus/shared/.config]:
		Where should the capture-device be stored [/var/elbrus/capture-device/target/release/aragog]:
		
		Should the log be stored at '/var/elbrus/shared/log' ?
		Is the 'elb-capture-postrotate.sh' stored at '/var/elbrus/capture-device/scripts/elb-capture-postrotate.sh' ?
		Is the shared config stored at '/var/elbrus/shared/.config' ?
		Should the capture-device be stared at '/var/elbrus/capture-device/target/release/aragog' ? (y/n/exit) y
		
		...
		
		#global
		SHAREDCONFIG=/var/elbrus/shared/.config
		
		#path
		POSTROTATESCRIPT=/var/elbrus/capture-device/target/release/scripts/elb-capture-postrotate.sh
		LOGFILEDIR=/var/elbrus/capture/
		CAPTUREPATH=/var/elbrus/capture-device/target/release/aragog
		
		#settings
		TIMEPERCAPTURE=900
		MAXFILES=10
		INTERFACE=eth0
		Cleaning up...
		elbrus@server:/var/elbrus$
	\end{lstlisting}
	\newpage
	
	\subsubsection{2 - Ohne Setup Script}
	
	\lstset{style=commands}
	\begin{lstlisting}[caption={Anlegen eines Users der Berechtigungen zum ausf체hren des 'capture-device' erh채lt.}]
		elbrus@server:~$ sudo useradd aragog
	\end{lstlisting}
	
	\lstset{style=commands}
	\begin{lstlisting}[caption={Hinzuf체gen von User 'aragog' zu Gruppe 'elbrus'.}]
		elbrus@server:~$ sudo usermod -aG elbrus aragog
	\end{lstlisting}

	\lstset{style=commands}
	\begin{lstlisting}[caption={Wechseln des Owners \& der Berechtigung auf '/var/elbrus/capture-device/'}]
		elbrus@server:/var/elbrus$ sudo chown -R aragog:aragog /var/elbrus/capture-device/
		elbrus@server:/var/elbrus$ sudo chmod -R 770 /var/elbrus/capture-device/
		elbrus@server:/var/elbrus$ sudo chmod 777 /var/elbrus/capture-device/
		elbrus@server:/var/elbrus$ sudo chmod 777 /var/elbrus/capture-device/install.sh
	\end{lstlisting}
	
	\lstset{style=files}
	\begin{lstlisting}[caption={Anhand von '.env.example' eigene '.env' Datei anlegen.}, language=bash]
		#global
		SHAREDCONFIG=/var/elbrus/shared/.config
		
		#path
		POSTROTATESCRIPT=/var/elbrus/capture/elb-capture-postrotate.sh
		LOGFILEDIR=/var/elbrus/capture/
		CAPTUREPATH=/var/elbrus/capture-device/target/release/aragog
		
		#settings
		TIMEPERCAPTURE=900
		MAXFILES=10
		INTERFACE=eth0
	\end{lstlisting}

	\lstset{style=commands}
	\begin{lstlisting}[caption={Kompilieren des 'capture-device'.}]
		elbrus@server:~$ sudo ln -s /usr/lib64/libpcap.so.1 /usr/lib64/libpcap.so
		elbrus@server:~$ cd /var/elbrus/capture-device
		elbrus@server:/var/elbrus/capture-device$ cargo build --release 
	\end{lstlisting}
	
	\lstset{style=commands}
	\begin{lstlisting}[caption={Erteilen der Berechtigung zum Aufzeichenen von Packages.}]
		elbrus@server:/var/elbrus/capture-device$ cd /var/elbrus
		elbrus@server:/var/elbrus$ sudo chmod 750 \
		/var/elbrus/capture-device/target/release/aragog
		elbrus@server:/var/elbrus$ sudo setcap cap_net_raw,cap_net_admin=eip \
		/var/elbrus/capture-device/target/release/aragog
	\end{lstlisting}
	\newpage
	
	\subsection[systemd service]{Der Systemd Service}
	
	\lstset{style=files}
	\begin{lstlisting}[caption={capture.service.example - Die Variable 'WorkingDirectory', Die Variable 'User' sowie die Variable 'ExecStopPost' anpassen.},language=bash ,keywords={WorkingDirectory, User, ExecStopPost}, keywordstyle=\color{red}, firstnumber=3]
		...
		#job is starting immediatly after the start action has been called
		Type=simple
		#the user to execute the script
		User=aragog
		#the working directory
		WorkingDirectory=/var/elbrus/capture
		#which script should be executed
		ExecStart=/bin/bash elb-capture.sh
		#when the script should restart
		Restart=on-failure
		#set the restart timeout
		RestartSec=5
		#which script should be executed when the service stops
		ExecStopPost=/bin/bash elb-capture-log.sh
		
		[Install]
		...
	\end{lstlisting}
	
	\lstset{style=commands}
	\begin{lstlisting}[caption={Kopieren des Serviceprogrammes.}]
		elbrus@server:/var/elbrus$ sudo cp capture-device/scripts/capture.service.example\
		/etc/systemd/system/capture.service
	\end{lstlisting}
	
	\lstset{style=commands}
	\begin{lstlisting}[caption={Neuladen des 'systemctl' Deamons.}]
		elbrus@server:/var/elbrus$ sudo systemctl daemon-reload
	\end{lstlisting}
	
	\lstset{style=commands}
	\begin{lstlisting}[caption={Aktivieren des Serviceprogrammes.}]
		elbrus@server:/var/elbrus$ sudo systemctl enable capture.service
	\end{lstlisting}
	
	\lstset{style=commands}
	\begin{lstlisting}[caption={Starten des Serviceprogrammes.}]
		elbrus@server:/var/elbrus$ sudo systemctl start capture.service
	\end{lstlisting}